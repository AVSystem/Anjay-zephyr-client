# anjay-zephyr-client
CONFIG_ANJAY_ZEPHYR_DEVICE_MANUFACTURER="Nordic Semiconductor"
CONFIG_ANJAY_ZEPHYR_MODEL_NUMBER="nRF7002DK"

CONFIG_ANJAY_ZEPHYR_FOTA=y

# Anjay Settings
CONFIG_ANJAY_COMPAT_MBEDTLS=y
CONFIG_ANJAY_COMPAT_NET=y
CONFIG_ANJAY_LOG_LEVEL_INF=y
CONFIG_ANJAY_WITH_NET_STATS=n
CONFIG_ANJAY_WITH_TRACE_LOGS=n
CONFIG_ANJAY_WITH_ACCESS_CONTROL=n

# General Settings
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096
CONFIG_LOG_MAX_LEVEL=3
CONFIG_POSIX_MAX_FDS=16

# Networking
CONFIG_NET_NATIVE=y
CONFIG_NET_DHCPV4=y
CONFIG_DNS_RESOLVER=y
# on nRF7002DK the default (4) is not enough. Besides DNS, DHCP, LwM2M server
# connection and possible connection for FOTA download, there's also an EAPOL
# connection opened by wpa_supplicant.
CONFIG_NET_MAX_CONN=5

# WiFi
CONFIG_WIFI=y
CONFIG_WIFI_NRF700X=y
CONFIG_WPA_SUPP=y
CONFIG_WPA_SUPP_CRYPTO_PSA=y
CONFIG_PSA_WANT_ALG_HMAC=y
CONFIG_NET_L2_WIFI_MGMT=y
CONFIG_NET_L2_WIFI_MGMT_LOG_LEVEL_ERR=y
CONFIG_NET_L2_ETHERNET=y

# Clock synchronization
CONFIG_DATE_TIME=y
CONFIG_DATE_TIME_UPDATE_INTERVAL_SECONDS=600
CONFIG_DATE_TIME_TOO_OLD_SECONDS=600
CONFIG_DATE_TIME_NTP_QUERY_TIME_SECONDS=5

# File system
CONFIG_STREAM_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_MPU_ALLOW_FLASH_WRITE=y

# Heap
CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=150000
CONFIG_HEAP_MEM_POOL_SIZE=150000

# MCUboot
CONFIG_BOOTLOADER_MCUBOOT=y
CONFIG_IMG_MANAGER=y
CONFIG_IMG_ERASE_PROGRESSIVELY=y
CONFIG_MCUBOOT_IMGTOOL_SIGN_VERSION="26.9.0"

# External flash
CONFIG_SPI=y
CONFIG_SPI_NOR=y
CONFIG_SPI_NOR_FLASH_LAYOUT_PAGE_SIZE=4096
CONFIG_SPI_NOR_SFDP_DEVICETREE=y
CONFIG_PM_EXTERNAL_FLASH_MCUBOOT_SECONDARY=y

# Network core upgrades collide with app FOTA
CONFIG_NRF53_UPGRADE_NETWORK_CORE=n
